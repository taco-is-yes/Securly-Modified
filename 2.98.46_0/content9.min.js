var port=chrome.runtime.connect({name:"rproxport"});async function onWindowLoad(){let t=document.evaluate("//script",document,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null),e="",n=/\/static\/js\/main\.[0-9a-z]{1,}\.js/i;for(let a=0;a<t.snapshotLength;a++)if(t.snapshotItem(a).attributes.length>0&&null!=t.snapshotItem(a).attributes.src&&null!==t.snapshotItem(a).attributes.src.value.match(n)){e=t.snapshotItem(a).attributes.src.value;break}if(""!==e){let t=await fetch(e),n=await t.text();("9c6d270f3803b30049faad6927e9b0cd3c6325b3a00ec8a20303049f386add4b"==await sha256(n)||n.includes("M 21 13 h -8 v 8 h -3 v -8 H 2 v -3 h 8 V 2 h 3 v 8 h 8 Z"))&&sendData(window.location.href)}else{let t=document.evaluate("//input",document,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null);for(let e=0;e<t.snapshotLength;e++)if(t.snapshotItem(e).attributes.length>0&&null!=t.snapshotItem(e).getAttribute("placeholder")&&"click on 'Create new session ID' or 'Fill in existing session ID' from below"==t.snapshotItem(e).getAttribute("placeholder")){sendData(window.location.href);break}}}async function sha256(t){const e=(new TextEncoder).encode(t),n=await window.crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(t=>t.toString(16).padStart(2,"0")).join("")}function sendData(t){port.postMessage({action:"rprox",data:{url:window.location.href}})}function callWindowLoadWithTimeOut(){setTimeout(onWindowLoad,2e3)}window.addEventListener?window.addEventListener("load",callWindowLoadWithTimeOut,!1):window.attachEvent&&window.attachEvent("onload",callWindowLoadWithTimeOut);